%% This is file `grfext-test2.lvt',
%% The original source files were:
%%
%% grfext.dtx  (with options: `test2')
\input{regression-test}
\NeedsTeXFormat{LaTeX2e}
\nofiles
\documentclass{article}
\usepackage[pdftex]{graphics}
\usepackage{grfext}[2016/05/16]
\usepackage{qstest}
\IncludeTests{*}
\LogTests{log}{*}{*}
\makeatletter
\let\orig@qstest\qstest
\let\orig@endqstest\endqstest
\def\qstest#1#2{%
  \orig@qstest{#1}{#2}%
  \setbox0\hbox\bgroup\begingroup\ignorespaces
}
\def\endqstest{%
  \endgroup\egroup
  \Expect*{\the\wd0}{0.0pt}%
  \orig@endqstest
}
\def\Test{\@ifnextchar\bgroup\TestInitList\TestInitCmd}%
\def\TestInitList#1{%
  \def\Gin@extensions{#1}%
  \@Test
}
\def\TestInitCmd#1{%
  \let\Gin@extensions#1\relax
  \@Test
}
\def\@Test#1#2{%
  \TestCmd{#1}%
  \expandafter\Expect\expandafter*{\Gin@extensions}{#2}%
}
\START
\begin{qstest}{AppendGraphicsExtensions}{AppendGraphicsExtensions}
  \let\TestCmd\AppendGraphicsExtensions
  \Test\@undefined{.test}{.test}%
  \Test\relax{.test}{.test}%
  \Test{}{.test}{.test}%
  \Test{.foo}{.test}{.foo,.test}%
  \Test{.foo,.bar}{.test}{.foo,.bar,.test}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.foo,.test}%
  \Test{.test,.foo}{.test}{.foo,.test}%
  \Test{.foo,.test,.bar}{.test}{.foo,.bar,.test}%
  \Test{.foo}{.test,.bar}{.foo,.test,.bar}%
  \Test{.foo}{.test,.foo}{.test,.foo}%
  \Test{.foo}{ .test ,.bar , .x, .y }{.foo,.test,.bar,.x,.y}%
  \def\TestCmd{\AppendGraphicsExtensions*}%
  \Test\@undefined{.test}{}%
  \Test\relax{.test}{}%
  \Test{}{.test}{}%
  \Test{.test}{.test}{.test}%
  \Test{.foo}{.test}{.foo}%
  \Test{.foo,.bar}{.test}{.foo,.bar}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.foo,.test}%
  \Test{.test,.foo}{.test}{.test,.foo}%
  \Test{.foo,.test,.bar}{.test}{.foo,.test,.bar}%
  \Test{.foo}{.test,.bar}{.foo}%
  \Test{.foo}{.test,.foo}{.foo}%
  \DeclareGraphicsRule{.test}{test}{.test}{}%
  \Test\@undefined{.test}{.test}%
  \Test\relax{.test}{.test}%
  \Test{}{.test}{.test}%
  \Test{.foo}{.test}{.foo,.test}%
  \Test{.foo,.bar}{.test}{.foo,.bar,.test}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.foo,.test}%
  \Test{.test,.foo}{.test}{.foo,.test}%
  \Test{.foo,.test,.bar}{.test}{.foo,.bar,.test}%
  \Test{.foo}{.test,.bar}{.foo,.test}%
  \Test{.foo}{.test,.foo}{.foo,.test}%
  \DeclareGraphicsRule{.bar}{bar}{.bar}{}%
  \Test{.foo}{.test,.bar}{.foo,.test,.bar}%
  \Test{.bar}{.test,.bar}{.test,.bar}%
  \Test{.bar}{.bar,.test}{.bar,.test}%
\end{qstest}
\begin{qstest}{PrependGraphicsExtensions}{PrependGraphicsExtensions}
  \let\TestCmd\PrependGraphicsExtensions
  \Test\@undefined{.test}{.test}%
  \Test\relax{.test}{.test}%
  \Test{}{.test}{.test}%
  \Test{.foo}{.test}{.test,.foo}%
  \Test{.foo,.bar}{.test}{.test,.foo,.bar}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.test,.foo}%
  \Test{.test,.foo}{.test}{.test,.foo}%
  \Test{.foo,.test,.bar}{.test}{.test,.foo,.bar}%
  \Test{.foo}{.test,.bar}{.test,.bar,.foo}%
  \Test{.foo}{.test,.foo}{.test,.foo}%
  \Test{.foo}{ .test ,.bar , .x, .y }{.test,.bar,.x,.y,.foo}%
  \def\TestCmd{\PrependGraphicsExtensions*}%
  \Test\@undefined{.test}{}%
  \Test\relax{.test}{}%
  \Test{}{.test}{}%
  \Test{.test}{.test}{.test}%
  \Test{.foo}{.test}{.foo}%
  \Test{.foo,.bar}{.test}{.foo,.bar}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.foo,.test}%
  \Test{.test,.foo}{.test}{.test,.foo}%
  \Test{.foo,.test,.bar}{.test}{.foo,.test,.bar}%
  \DeclareGraphicsRule{.test}{test}{.test}{}%
  \Test\@undefined{.test}{.test}%
  \Test\relax{.test}{.test}%
  \Test{}{.test}{.test}%
  \Test{.foo}{.test}{.test,.foo}%
  \Test{.foo,.bar}{.test}{.test,.foo,.bar}%
  \Test{.test}{.test}{.test}%
  \Test{.foo,.test}{.test}{.test,.foo}%
  \Test{.test,.foo}{.test}{.test,.foo}%
  \Test{.foo,.test,.bar}{.test}{.test,.foo,.bar}%
  \Test{.foo}{.test,.bar}{.test,.foo}%
  \Test{.foo}{.test,.foo}{.test,.foo}%
  \DeclareGraphicsRule{.bar}{bar}{.bar}{}%
  \Test{.foo}{.test,.bar}{.test,.bar,.foo}%
  \Test{.bar}{.test,.bar}{.test,.bar}%
  \Test{.bar}{.bar,.test}{.bar,.test}%
\end{qstest}
\begin{qstest}{RemoveGraphicsExtensions}{RemoveGraphicsExtensions}
  \let\TestCmd\RemoveGraphicsExtensions
  \Test\@undefined{.test}{}%
  \Test\relax{.test}{}%
  \Test{}{.test}{}%
  \Test{.foo}{.test}{.foo}%
  \Test{.foo,.bar}{.test}{.foo,.bar}%
  \Test{.test}{.test}{}%
  \Test{.foo,.test}{.test}{.foo}%
  \Test{.test,.foo}{.test}{.foo}%
  \Test{.foo,.test,.bar}{.test}{.foo,.bar}%
  \Test{.test,.test}{.test}{}%
  \Test{.foo,.test,.bar,.test,.test,.bar}{.test}{.foo,.bar,.bar}%
  \Test{.foo,.test,.bar,.foo,.test,.bar}{.test,.bar}{.foo,.foo}%
  \Test{.foo,.test,.bar,.foo,.test,.bar}{ .test , .bar }{.foo,.foo}%
\end{qstest}
\begin{document}
\end{document}
\endinput
%%
%% End of file `grfext-test2.tex'.
